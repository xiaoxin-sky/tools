<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Infrastructure for code formatting"><meta name="keywords" content="rust, rustlang, rust-lang, rome_formatter"><title>rome_formatter - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="../crates.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../rome_formatter/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../rome_formatter/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">Crate rome_formatter</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 0.0.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul></div><section><div class="block"><ul><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../rome_formatter/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">rome_formatter</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/rome_formatter/lib.rs.html#1-1562">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Infrastructure for code formatting</p>
<p>This module defines <a href="format_element/enum.FormatElement.html" title="FormatElement">FormatElement</a>, an IR to format code documents and provides a mean to print
such a document to a string. Objects that know how to format themselves implement the <a href="trait.Format.html" title="Format">Format</a> trait.</p>
<h3 id="formatting-traits"><a href="#formatting-traits">Formatting Traits</a></h3>
<ul>
<li><a href="trait.Format.html" title="Format">Format</a>: Implemented by objects that can be formatted.</li>
<li><a href="trait.FormatRule.html" title="FormatRule">FormatRule</a>: Rule that knows how to format an object of another type. Necessary in the situation where
it’s necessary to implement <a href="trait.Format.html" title="Format">Format</a> on an object from another crate. This module defines the
<a href="struct.FormatRefWithRule.html" title="FormatRefWithRule">FormatRefWithRule</a> and <a href="struct.FormatOwnedWithRule.html" title="FormatOwnedWithRule">FormatOwnedWithRule</a> structs to pass an item with its corresponding rule.</li>
<li><a href="trait.FormatWithRule.html" title="FormatWithRule">FormatWithRule</a> implemented by objects that know how to format another type. Useful for implementing
some reusable formatting logic inside of this module if the type itself doesn’t implement <a href="trait.Format.html" title="Format">Format</a></li>
</ul>
<h3 id="formatting-macros"><a href="#formatting-macros">Formatting Macros</a></h3>
<p>This crate defines two macros to construct the IR. These are inspired by Rust’s <code>fmt</code> macros</p>
<ul>
<li><a href="macro.format.html" title="format!"><code>format!</code></a>: Formats a formatable object</li>
<li><a href="macro.format_args.html" title="format_args!"><code>format_args!</code></a>: Concatenates a sequence of Format objects.</li>
<li><a href="macro.write.html" title="write!"><code>write!</code></a>: Writes a sequence of formatable objects into an output buffer.</li>
</ul>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2><div class="item-table"><div class="item-row"><div class="item-left import-item" id="reexport.normalize_newlines"><code>pub use format_element::<a class="fn" href="format_element/fn.normalize_newlines.html" title="fn rome_formatter::format_element::normalize_newlines">normalize_newlines</a>;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item" id="reexport.FormatElement"><code>pub use format_element::<a class="enum" href="format_element/enum.FormatElement.html" title="enum rome_formatter::format_element::FormatElement">FormatElement</a>;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item" id="reexport.LINE_TERMINATORS"><code>pub use format_element::<a class="constant" href="format_element/constant.LINE_TERMINATORS.html" title="constant rome_formatter::format_element::LINE_TERMINATORS">LINE_TERMINATORS</a>;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item" id="reexport.GroupId"><code>pub use group_id::<a class="type" href="group_id/type.GroupId.html" title="type rome_formatter::group_id::GroupId">GroupId</a>;</code></div><div class="item-right docblock-short"></div></div></div><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="comments/index.html" title="rome_formatter::comments mod">comments</a></div><div class="item-right docblock-short"><p>Types for extracting and representing comments of a syntax tree.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="format_element/index.html" title="rome_formatter::format_element mod">format_element</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="formatter/index.html" title="rome_formatter::formatter mod">formatter</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="group_id/index.html" title="rome_formatter::group_id mod">group_id</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="macros/index.html" title="rome_formatter::macros mod">macros</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="prelude/index.html" title="rome_formatter::prelude mod">prelude</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="printed_tokens/index.html" title="rome_formatter::printed_tokens mod">printed_tokens</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="printer/index.html" title="rome_formatter::printer mod">printer</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="trivia/index.html" title="rome_formatter::trivia mod">trivia</a></div><div class="item-right docblock-short"><p>Provides builders for comments and skipped token trivia.</p>
</div></div></div><h2 id="macros" class="small-section-header"><a href="#macros">Macros</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="macro" href="macro.best_fitting.html" title="rome_formatter::best_fitting macro">best_fitting</a></div><div class="item-right docblock-short"><p>Provides multiple different alternatives and the printer picks the first one that fits.
Use this as last resort because it requires that the printer must try all variants in the worst case.
The passed variants must be in the following order:</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="macro" href="macro.dbg_write.html" title="rome_formatter::dbg_write macro">dbg_write</a></div><div class="item-right docblock-short"><p>Writes formatted data into the given buffer and prints all written elements for a quick and dirty debugging.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="macro" href="macro.format.html" title="rome_formatter::format macro">format</a></div><div class="item-right docblock-short"><p>Creates the Format IR for a value.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="macro" href="macro.format_args.html" title="rome_formatter::format_args macro">format_args</a></div><div class="item-right docblock-short"><p>Constructs the parameters for other formatting macros.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="macro" href="macro.write.html" title="rome_formatter::write macro">write</a></div><div class="item-right docblock-short"><p>Writes formatted data into a buffer.</p>
</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Argument.html" title="rome_formatter::Argument struct">Argument</a></div><div class="item-right docblock-short"><p>Mono-morphed type to format an object. Used by the <a href="macro.format.html" title="crate::format!">crate::format!</a>, <a href="macro.format_args.html" title="crate::format_args!">crate::format_args!</a>, and
<a href="macro.write.html" title="crate::write!">crate::write!</a> macros.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Arguments.html" title="rome_formatter::Arguments struct">Arguments</a></div><div class="item-right docblock-short"><p>Sequence of objects that should be formatted in the specified order.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.BestFitting.html" title="rome_formatter::BestFitting struct">BestFitting</a></div><div class="item-right docblock-short"><p>The first variant is the most flat, and the last is the most expanded variant.
See <a href="macro.best_fitting.html" title="best_fitting!"><code>best_fitting!</code></a> macro for a more in-detail documentation</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.FormatOwnedWithRule.html" title="rome_formatter::FormatOwnedWithRule struct">FormatOwnedWithRule</a></div><div class="item-right docblock-short"><p>Formats the <code>item</code> with the specified rule.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.FormatRefWithRule.html" title="rome_formatter::FormatRefWithRule struct">FormatRefWithRule</a></div><div class="item-right docblock-short"><p>Formats the referenced <code>item</code> with the specified rule.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.FormatState.html" title="rome_formatter::FormatState struct">FormatState</a></div><div class="item-right docblock-short"><p>This structure stores the state that is relevant for the formatting of the whole document.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.FormatStateSnapshot.html" title="rome_formatter::FormatStateSnapshot struct">FormatStateSnapshot</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Formatted.html" title="rome_formatter::Formatted struct">Formatted</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Inspect.html" title="rome_formatter::Inspect struct">Inspect</a></div><div class="item-right docblock-short"><p>Buffer that allows you inspecting elements as they get written to the formatter.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.LineWidth.html" title="rome_formatter::LineWidth struct">LineWidth</a></div><div class="item-right docblock-short"><p>Validated value for the <code>line_width</code> formatter options</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.LineWidthFromIntError.html" title="rome_formatter::LineWidthFromIntError struct">LineWidthFromIntError</a></div><div class="item-right docblock-short"><p>Error type returned when converting a u16 to a <a href="struct.LineWidth.html" title="LineWidth">LineWidth</a> fails</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PreambleBuffer.html" title="rome_formatter::PreambleBuffer struct">PreambleBuffer</a></div><div class="item-right docblock-short"><p>This struct wraps an existing buffer and emits a preamble text when the first text is written.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Printed.html" title="rome_formatter::Printed struct">Printed</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RemoveSoftLinesBuffer.html" title="rome_formatter::RemoveSoftLinesBuffer struct">RemoveSoftLinesBuffer</a></div><div class="item-right docblock-short"><p>A Buffer that removes any soft line breaks.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SimpleFormatContext.html" title="rome_formatter::SimpleFormatContext struct">SimpleFormatContext</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SimpleFormatOptions.html" title="rome_formatter::SimpleFormatOptions struct">SimpleFormatOptions</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SourceMarker.html" title="rome_formatter::SourceMarker struct">SourceMarker</a></div><div class="item-right docblock-short"><p>Lightweight sourcemap marker between source and output tokens</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.TransformSourceMap.html" title="rome_formatter::TransformSourceMap struct">TransformSourceMap</a></div><div class="item-right docblock-short"><p>A source map for mapping positions of a pre-processed tree back to the locations in the source tree.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.TransformSourceMapBuilder.html" title="rome_formatter::TransformSourceMapBuilder struct">TransformSourceMapBuilder</a></div><div class="item-right docblock-short"><p>Builder for creating a source map.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.VecBuffer.html" title="rome_formatter::VecBuffer struct">VecBuffer</a></div><div class="item-right docblock-short"><p>Vector backed <a href="trait.Buffer.html" title="Buffer"><code>Buffer</code></a> implementation.</p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.ActualStart.html" title="rome_formatter::ActualStart enum">ActualStart</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.BufferSnapshot.html" title="rome_formatter::BufferSnapshot enum">BufferSnapshot</a></div><div class="item-right docblock-short"><p>Snapshot of a buffer state that can be restored at a later point.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.FormatError.html" title="rome_formatter::FormatError enum">FormatError</a></div><div class="item-right docblock-short"><p>Series of errors encountered during formatting</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.IndentStyle.html" title="rome_formatter::IndentStyle enum">IndentStyle</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.InvalidDocumentError.html" title="rome_formatter::InvalidDocumentError enum">InvalidDocumentError</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.ParseLineWidthError.html" title="rome_formatter::ParseLineWidthError enum">ParseLineWidthError</a></div><div class="item-right docblock-short"><p>Error type returned when parsing a <a href="struct.LineWidth.html" title="LineWidth">LineWidth</a> from a string fails</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.PrintError.html" title="rome_formatter::PrintError enum">PrintError</a></div><div class="item-right docblock-short"></div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Buffer.html" title="rome_formatter::Buffer trait">Buffer</a></div><div class="item-right docblock-short"><p>A trait for writing or formatting into <a href="format_element/enum.FormatElement.html" title="FormatElement">FormatElement</a>-accepting buffers or streams.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.BufferExtensions.html" title="rome_formatter::BufferExtensions trait">BufferExtensions</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.CstFormatContext.html" title="rome_formatter::CstFormatContext trait">CstFormatContext</a></div><div class="item-right docblock-short"><p>The <a href="trait.CstFormatContext.html" title="CstFormatContext">CstFormatContext</a> is an extension of the CST unaware <a href="trait.FormatContext.html" title="FormatContext">FormatContext</a> and must be implemented
by every language.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Format.html" title="rome_formatter::Format trait">Format</a></div><div class="item-right docblock-short"><p>Formatting trait for types that can create a formatted representation. The <code>rome_formatter</code> equivalent
to <a href="https://doc.rust-lang.org/1.64.0/core/fmt/trait.Display.html" title="std::fmt::Display">std::fmt::Display</a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.FormatContext.html" title="rome_formatter::FormatContext trait">FormatContext</a></div><div class="item-right docblock-short"><p>Context object storing data relevant when formatting an object.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.FormatLanguage.html" title="rome_formatter::FormatLanguage trait">FormatLanguage</a></div><div class="item-right docblock-short"><p>Entry point for formatting a <a href="../rome_rowan/syntax/node/struct.SyntaxNode.html" title="SyntaxNode">SyntaxNode</a> for a specific language.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.FormatOptions.html" title="rome_formatter::FormatOptions trait">FormatOptions</a></div><div class="item-right docblock-short"><p>Options customizing how the source code should be formatted.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.FormatRule.html" title="rome_formatter::FormatRule trait">FormatRule</a></div><div class="item-right docblock-short"><p>Rule that knows how to format an object of type <code>T</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.FormatRuleWithOptions.html" title="rome_formatter::FormatRuleWithOptions trait">FormatRuleWithOptions</a></div><div class="item-right docblock-short"><p>Rule that supports customizing how it formats an object of type <code>T</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.FormatWithRule.html" title="rome_formatter::FormatWithRule trait">FormatWithRule</a></div><div class="item-right docblock-short"><p>Trait for an object that formats an object with a specified rule.</p>
</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.format.html" title="rome_formatter::format fn">format</a></div><div class="item-right docblock-short"><p>The <code>format</code> function takes an <a href="struct.Arguments.html" title="Arguments"><code>Arguments</code></a> struct and returns the resulting formatting IR.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.format_node.html" title="rome_formatter::format_node fn">format_node</a></div><div class="item-right docblock-short"><p>Formats a syntax node file based on its features.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.format_range.html" title="rome_formatter::format_range fn">format_range</a></div><div class="item-right docblock-short"><p>Formats a range within a file, supported by Rome</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.format_sub_tree.html" title="rome_formatter::format_sub_tree fn">format_sub_tree</a></div><div class="item-right docblock-short"><p>Formats a single node within a file, supported by Rome.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.write.html" title="rome_formatter::write fn">write</a></div><div class="item-right docblock-short"><p>The <code>write</code> function takes a target buffer and an <code>Arguments</code> struct that can be precompiled with the <code>format_args!</code> macro.</p>
</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.FormatResult.html" title="rome_formatter::FormatResult type">FormatResult</a></div><div class="item-right docblock-short"><p>Public return type of the formatter</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.PrintResult.html" title="rome_formatter::PrintResult type">PrintResult</a></div><div class="item-right docblock-short"></div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="rome_formatter" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.64.0 (a55dd71d5 2022-09-19)" ></div></body></html>